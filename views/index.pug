extends layout

block content
	nav.navbar.navbar-expand-sm.bg-dark.navbar-dark
		a.navbar-brand(href='#') Twitter Query Processor
		button.navbar-toggler(type='button' data-toggle='collapse' data-target='#collapsibleNavbar')
			span.navbar-toggler-icon
		#collapsibleNavbar.collapse.navbar-collapse
			ul.navbar-nav
				li.nav-item
					a.nav-link(href='/') Home

	.container(style='margin-top:30px')
		h1(style='margin-left: 33.33%') Hash Tag Querier 
		form#twitter-query(method='post', action='javascript:sendFormContent()', onsubmit='javascript:reloadPage()')
			.form-group
				.row
					.col-md-10
						input.form-control(type='text' name='text' placeholder='#Insert Hashtag Query')
					.col-md-2
						button.btn.btn-default(type='submit') Search
		.popular-tags-container
			p Trending Tags:
			table#popular-tags
		.results-container(style='background-color: #C3C3C3')
			table#twitter-results

	script(src="https://code.jquery.com/jquery-3.1.1.min.js")
	script(src='/javascripts/twitter.js')

	//- script(src="https://code.jquery.com/jquery-3.1.1.min.js")
	//- script.
	//- 	onload = function twitterFeed() {
	//- 		$.get('/twitter-results', function (data) {
	//- 			for (let i = 0; i < data.length; i++) {
	//- 				let msg = data[i];
	//- 				let output = '<tr class="msg">';
	//- 				output += '<td class="name"><b>' + msg.ip + '</b></td>';
	//- 				output += '<td class="text">' + msg.text+ '</td>';
	//- 				output += '<td class="time"><i>' + msg.timestamp + '</i></td>';
	//- 				output += '</tr>';
	//- 				$("#twitter-results").prepend(output);
	//- 			}
	//- 		});
	//- 	}
	//- 	function sendFormContent () {
	//- 		let form = $('#twitter-query');
	//- 		let query = form.serialize();
	//- 		$.post('/twitter-results', query, function (data) {
	//- 			for (let i = 0; i < data.length; i++) {
	//- 				let msg = data[i];
	//- 				let output = '<tr class="msg">';
	//- 				output += '<td class="name"><b>' + msg.ip + '</b></td>';
	//- 				output += '<td class="text">' + msg.text+ '</td>';
	//- 				output += '<td class="time"><i>' + msg.timestamp + '</i></td>';
	//- 				output += '</tr>';
	//- 				$("#twitter-results").prepend(output);
	//- 			}	
	//- 		});
	//- 	}

//- // Optional JavaScript
//- // jQuery first, then Popper.js, then Bootstrap JS
//- script(src='https://code.jquery.com/jquery-3.3.1.slim.min.js' integrity='sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo' crossorigin='anonymous')
//- script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' integrity='sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49' crossorigin='anonymous')
//- script(src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' integrity='sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy' crossorigin='anonymous')
